{"version":3,"file":"js/750.b013e2b3.js","mappings":"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","sources":["webpack://inefi_cli/./src/components/CardComponent.vue?cab0","webpack://inefi_cli/./src/views/GroupHealthView.vue","webpack://inefi_cli/./src/views/GroupHealthView.vue?6e1b"],"sourcesContent":["import script from \"./CardComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CardComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CardComponent.vue?vue&type=style&index=0&id=32832325&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { ref, watch } from \"vue\";\r\nimport {inject} from \"vue\"\r\nimport CardComponent from \"@/components/CardComponent.vue\";\r\nimport { Refresh } from \"@element-plus/icons-vue\";\r\nimport axios from \"axios\";\r\n\r\nconst prefixURL = inject('prefixURL');\r\nlet groupTreeUrl = `${prefixURL}/data/group_tree.json`;\r\nlet groupHealthUrl = \"/data/group_health_moniter.json\";\r\nconst groupTreeData = ref([]);\r\n\r\naxios\r\n    .get(groupTreeUrl)\r\n    .then((res) => {\r\n        let inefiData = res.data;\r\n        groupTreeData.value = [...orgnizeTreeData(inefiData.result)];\r\n    })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n\r\nfunction orgnizeTreeData(data) {\r\n    data.forEach((item) => {\r\n        item.slaveGroupName = item.masterGroupName;\r\n        item.slaveGroupUUID = item.masterGroupUUID;\r\n        item.slaveGroupId = item.masterGroupId;\r\n    });\r\n\r\n    return data;\r\n}\r\n\r\nconst groupHealthMointor = ref([]);\r\naxios.get(groupHealthUrl).then((res) => {\r\n    groupHealthMointor.value = res.data.result;\r\n});\r\n\r\n//找出所有被監測的群組，並統計狀態數量(total - disconneted - inactive - OOB)\r\n\r\n//找出有被監測的群組，回傳這些群組\r\nconst groupWatchedList = ref([]);\r\nconst groupBeenDeleted = ref([]);\r\nwatch([groupHealthMointor, groupTreeData], ([newVal1, newVal2]) => {\r\n    let groupWatchedFounded = findGroupWatched(newVal1, newVal2);\r\n    //如果有被刪除的監看群組，發通知\r\n    // if (groupWatchedFounded.length !== newVal1.length) {\r\n    //     findGroupDeleted(newVal1, groupWatchedFounded);\r\n    // } else {\r\n    //     groupWatchedList.value = groupWatchedFounded;\r\n    // }\r\n    groupWatchedList.value = groupWatchedFounded;\r\n});\r\nfunction findGroupWatched(monitorData = [], groupTree = []) {\r\n    let watchedList = [];\r\n\r\n    let mainResult = groupTree.filter((group) => {\r\n        if (group.subgroup) {\r\n            let subResult = findGroupWatched(monitorData, group.subgroup);\r\n            watchedList.push(...subResult);\r\n        }\r\n        let isMatch = monitorData.some((monitor) => {\r\n            if (monitor.groupUUID === group.slaveGroupUUID) {\r\n                group.titleOfDeviceHealthGroup =\r\n                    monitor.titleOfDeviceHealthGroup;\r\n                group.idOfDeviceHealthGroup = monitor.idOfDeviceHealthGroup;\r\n            }\r\n            return monitor.groupUUID === group.slaveGroupUUID;\r\n        });\r\n\r\n        return isMatch;\r\n    });\r\n\r\n    watchedList.push(...mainResult);\r\n    return watchedList;\r\n}\r\n// function findGroupDeleted(monitorData = [], groupFounded = []) {\r\n//     let groupDeletedList = [];\r\n//     monitorData.forEach((monitor) => {\r\n//         let isExist = groupFounded.some(\r\n//             (group) => monitor.groupUUID === group.slaveGroupUUID\r\n//         );\r\n//         if (!isExist) {\r\n//             groupDeletedList.push(monitor);\r\n//         }\r\n//     });\r\n//     if (groupDeletedList.length) {\r\n//         groupBeenDeleted.value = groupDeletedList;\r\n//         groupDeletedDialogVisible.value = true;\r\n//     }\r\n// }\r\n//確認刪除對話框\r\nconst groupDeletedDialogVisible = ref(false);\r\nconst userConfirmGroupDeleted = ref(false);\r\nfunction confirmGroupDeleted() {\r\n    userConfirmGroupDeleted.value = true;\r\n    groupDeletedDialogVisible.value = false;\r\n    groupBeenDeleted.value.forEach((group) => {\r\n        console.log(`發送API delete groupUUID: ${group.groupUUID}`);\r\n    });\r\n}\r\nwatch(userConfirmGroupDeleted, (newVal) => {\r\n    if (newVal) {\r\n        groupWatchedList.value = findGroupWatched(\r\n            groupHealthMointor.value,\r\n            groupTreeData.value\r\n        );\r\n    }\r\n});\r\n\r\n//計算群組devices的connected的狀態數量，新增內容並回傳\r\nconst healthAllResult = ref([]);\r\nwatch(groupWatchedList, (newVal) => {\r\n    healthAllResult.value = calcDevicesConnectedAmount(newVal);\r\n});\r\nfunction calcDevicesConnectedAmount(watchedList = []) {\r\n    watchedList.forEach((group) => {\r\n        group.devicesStatus = {\r\n            total: 0,\r\n            good: 0,\r\n            warn: 0,\r\n            error: 0,\r\n            unknown: 0,\r\n        };\r\n        if (group.devices) {\r\n            let watchSuccesList = group.devices.filter((device) => {\r\n                return (\r\n                    device.deviceState === \"REGISTERED\" &&\r\n                    device.healthStatus !== \"DISCONNECTED\" &&\r\n                    device.healthStatus !== \"OOB\" &&\r\n                    device.isConnected === true\r\n                );\r\n            });\r\n            if (watchSuccesList.length === 0) {\r\n                group.devices = [];\r\n            }\r\n            let deviceGood = watchSuccesList.filter((device) => {\r\n                return device.healthStatus === \"GOOD\";\r\n            });\r\n            let deviceWarn = watchSuccesList.filter((device) => {\r\n                return device.healthStatus === \"WARN\";\r\n            });\r\n            let deviceError = watchSuccesList.filter((device) => {\r\n                return device.healthStatus === \"ERROR\";\r\n            });\r\n            let deviceUnknown = watchSuccesList.filter((device) => {\r\n                return device.healthStatus === \"UNKNOWN\";\r\n            });\r\n            group.devicesStatus.total = watchSuccesList.length;\r\n            group.devicesStatus.good = deviceGood.length;\r\n            group.devicesStatus.warn = deviceWarn.length;\r\n            group.devicesStatus.error = deviceError.length;\r\n            group.devicesStatus.unknown = deviceUnknown.length;\r\n        } else {\r\n            group.devices = [];\r\n        }\r\n    });\r\n    return watchedList;\r\n}\r\n\r\n//計算監看群組的健康度\r\nfunction calcGroupHealthScore(groupStatus) {\r\n    let score = (groupStatus.good / groupStatus.total) * 100;\r\n    return score;\r\n}\r\nfunction calcGroupHealthStatus(groupStatus) {\r\n    let score = calcGroupHealthScore(groupStatus);\r\n    let healthStatus = \"\";\r\n    if (score > 70) {\r\n        healthStatus = \"GOOD\";\r\n    } else if (score < 70 && score > 30) {\r\n        healthStatus = \"WARNING\";\r\n    } else if (score < 30) {\r\n        healthStatus = \"ERROR\";\r\n    }\r\n    return healthStatus;\r\n}\r\n\r\n//點狀態出現裝置名稱\r\nconst statusDialogTitle = ref(\"\");\r\nconst statusDialogDevices = ref([]);\r\nconst statusDialogVisible = ref(false);\r\nconst showDevicesInfo = (statusKey, devices = []) => {\r\n    statusDialogVisible.value = true;\r\n    let checkDevicesList = devices.filter(\r\n        (device) => device.healthStatus === statusKey.toUpperCase()\r\n    );\r\n    statusDialogDevices.value = checkDevicesList;\r\n    if (statusKey === \"good\") {\r\n        statusDialogTitle.value = \"良好\";\r\n    } else if (statusKey === \"warn\") {\r\n        statusDialogTitle.value = \"警告\";\r\n    } else if (statusKey === \"error\") {\r\n        statusDialogTitle.value = \"錯誤\";\r\n    } else if (statusKey === \"unknown\") {\r\n        statusDialogTitle.value = \"未知\";\r\n    }\r\n};\r\n\r\n//點群組資料夾跳轉到群組管理頁的特定群組\r\nimport { useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\nimport { useStore } from \"vuex\";\r\nconst store = useStore();\r\nfunction toManagePageGroup(group) {\r\n    store.commit(\"groupHealth/setCheckSlaveGroupId\", group);\r\n    router.path = \"/deviceManagement/group\";\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"layout-content px-4 py-3\">\r\n        <el-dialog v-model=\"groupDeletedDialogVisible\" width=\"200px\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" :align-center=\"true\">\r\n            <template #header>\r\n                <p class=\"mb-2\">被刪除的群組</p>\r\n            </template>\r\n            <p class=\"mb-2\" v-for=\"group in groupBeenDeleted\" :key=\"group.groupUUID\">\r\n                {{ group.titleOfDeviceHealthGroup }}\r\n            </p>\r\n            <template #footer>\r\n                <el-button type=\"info\" @click=\"confirmGroupDeleted\">\r\n                    確認\r\n                </el-button>\r\n            </template>\r\n        </el-dialog>\r\n        <div class=\"header py-3 d-flex justify-content-between align-items-center\">\r\n            <div class=\"title d-flex align-items-center\">\r\n                <h3 class=\"mb-0 me-3 fw-bold\">群組健康度</h3>\r\n                <el-button :icon=\"Refresh\" size=\"large\" circle />\r\n            </div>\r\n        </div>\r\n        <div class=\"layout-content\">\r\n            <el-scrollbar>\r\n                <div class=\"row m-0\">\r\n                    <div class=\"col-12 mt-3\" v-for=\"item in healthAllResult\" :key=\"item.slaveGroupId\">\r\n                        <CardComponent class=\"p-3 w-100\">\r\n                            <template v-slot:content>\r\n                                <div class=\"health_outer_layout d-flex\">\r\n                                    <div class=\"row flex-grow-1 ps-2 pb-2\">\r\n                                        <div class=\"col-12 col-xxl-2 mb-4 ms-2 ps-xxl-3 m-xxl-0\">\r\n                                            <div class=\"row h-100 flex-wrap\">\r\n                                                <div class=\"col-6 col-md-4 col-xxl-12\">\r\n                                                    <div class=\"h-100 d-flex align-items-center\">\r\n                                                        {{item.titleOfDeviceHealthGroup}}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-6 col-md-4 col-xxl-12\">\r\n                                                    <div class=\"d-flex align-items-center active_folder h-100\">\r\n                                                        <font-awesome-icon icon=\"fa-solid fa-folder\" />\r\n                                                        <router-link to=\"/deviceManagement/group\" class=\"ms-2 highLight\" @click=\"toManagePageGroup(item)\">\r\n                                                            {{item.slaveGroupName}}\r\n                                                        </router-link>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-12 col-lg-8 col-xl-7 col-xxl-5 device-amount mb-4 mb-lg-0\">\r\n                                            <div class=\"d-flex flex-column flex-md-row align-items-md-center h-100\">\r\n                                                <div class=\"total-device align-items-center align-items-md-start align-items-xl-center mb-2 mb-md-0 ms-xl-3 ms-xxl-0\">\r\n                                                    <div class=\"title\">\r\n                                                        總連線裝置\r\n                                                    </div>\r\n                                                    <div class=\"amount\">\r\n                                                        {{item.devicesStatus.total}}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"device-status justify-content-evenly p-1 p-lg-2 ms-md-3 ms-xl-5\">\r\n                                                    <template v-for=\"(status, key) in item.devicesStatus\" :key=\"status\">\r\n                                                        <div class=\"status p-2\" v-if=\"key !== 'total'\" @click=\"showDevicesInfo(key, item.devices)\">\r\n                                                            <div class=\"status_name mb-2\" :class=\"[\r\n                                                                { good: key === 'good' },\r\n                                                                { warn: key === 'warn' },\r\n                                                                { error: key === 'error' },\r\n                                                                { unknown: key === 'unknown' },\r\n                                                            ]\">\r\n                                                                <div class=\"dot\"></div>\r\n                                                                <span class=\"ms-2\" v-if=\"key === 'good'\">良好</span>\r\n                                                                <span class=\"ms-2\" v-if=\"key === 'warn'\">警告</span>\r\n                                                                <span class=\"ms-2\" v-if=\"key === 'error'\">錯誤</span>\r\n                                                                <span class=\"ms-2\" v-if=\"key === 'unknown'\">未知</span>\r\n                                                            </div>\r\n                                                            <div class=\"amount\">\r\n                                                                {{ status }}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </template>\r\n                                                    <el-dialog v-model=\"statusDialogVisible\r\n                                                        \" width=\"400px\" :align-center=\"true\" class=\"pop_message\" :show-close=\"false\">\r\n                                                        <template #header>\r\n                                                            <div class=\"title fw-bold p-3\">\r\n                                                                {{ statusDialogTitle }}\r\n                                                            </div>\r\n                                                        </template>\r\n                                                        <div class=\"layout-content p-3\">\r\n                                                            <div class=\"row border-b p-2\">\r\n                                                                <div class=\"col-6\">\r\n                                                                    名稱\r\n                                                                </div>\r\n                                                                <div class=\"col-6\">\r\n                                                                    標籤\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <template v-if=\"statusDialogDevices.length\">\r\n                                                                <div class=\"row border-b p-2\" v-for=\"row in statusDialogDevices\" :key=\"row.nodeId\">\r\n                                                                    <div class=\"col-6\">\r\n                                                                        {{ row.deviceName }}\r\n                                                                    </div>\r\n                                                                    <div class=\"col-6\">\r\n                                                                        {{ row.aliasName }}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </template>\r\n                                                            <div class=\"p-2 text-center\" v-else-if=\"statusDialogDevices.length === 0\">\r\n                                                                無裝置資料\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <template #footer>\r\n                                                            <el-button type=\"info\" @click=\"statusDialogVisible = false\">關閉</el-button>\r\n                                                        </template>\r\n                                                    </el-dialog>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-12 col-lg-4 col-xl-5\">\r\n                                            <div class=\"row align-items-center ps-3 ps-md-0 h-100\">\r\n                                                <div class=\"col-6 col-md-8 col-lg-12 col-xl-5 mb-lg-4 mb-xl-0\">\r\n                                                    <div class=\"device_health\">\r\n                                                        <h4 class=\"mb-0\">\r\n                                                            群組健康度\r\n                                                        </h4>\r\n                                                        <span class=\"mt-3 fw-bold\" v-if=\"item.devices\r\n                                                            .length ===\r\n                                                            0\r\n                                                            \">\r\n                                                            沒有裝置\r\n                                                        </span>\r\n                                                        <span class=\"mt-3 fw-bold\" v-else-if=\"item.devices\r\n                                                            .length\r\n                                                            \" :class=\"[\r\n        {\r\n            good:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) > 70,\r\n        },\r\n        {\r\n            warn:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) <\r\n                70 &&\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) > 30,\r\n        },\r\n        {\r\n            error:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) < 30,\r\n        },\r\n    ]\">\r\n                                                            {{\r\n                                                                calcGroupHealthStatus(\r\n                                                                    item.devicesStatus\r\n                                                                )\r\n                                                            }}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-6 col-md-4 col-lg-12 col-xl-6\">\r\n                                                    <div class=\"health_score\">\r\n                                                        <font-awesome-icon icon=\"fa-solid fa-folder\" size=\"2xl\" />\r\n                                                        <div class=\"score p-3 ms-3 fw-bold\" v-if=\"item.devices\r\n                                                                    .length ===\r\n                                                                0\r\n                                                                \">\r\n                                                            沒有裝置\r\n                                                        </div>\r\n                                                        <div class=\"score number p-3 ms-3 fw-bold\" v-else-if=\"item.devices\r\n                                                            .length\r\n                                                            \" :class=\"[\r\n        {\r\n            good:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) > 70,\r\n        },\r\n        {\r\n            warn:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) <\r\n                70 &&\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) > 30,\r\n        },\r\n        {\r\n            error:\r\n                calcGroupHealthScore(\r\n                    item.devicesStatus\r\n                ) < 30,\r\n        },\r\n    ]\">\r\n                                                            {{\r\n                                                                calcGroupHealthScore(\r\n                                                                    item.devicesStatus\r\n                                                                )\r\n                                                            }}%\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"more_oparate px-0 px-xxl-2 justify-content-start justify-content-md-center\">\r\n                                        <div class=\"icon\">\r\n                                            <span></span><span></span><span></span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </template>\r\n                        </CardComponent>\r\n                    </div>\r\n                </div>\r\n            </el-scrollbar>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/all.scss\";\r\n$delete-icon-size: 24px;\r\n$gray-bgc: #efefef;\r\n\r\n.more_oparate {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .icon {\r\n        background-color: $gray-bgc;\r\n        width: $delete-icon-size;\r\n        height: $delete-icon-size;\r\n        border-radius: 50%;\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n\r\n        &:hover {\r\n            cursor: pointer;\r\n        }\r\n\r\n        span {\r\n            display: block;\r\n            width: 3px;\r\n            height: 3px;\r\n            background-color: #555;\r\n            border-radius: 50%;\r\n        }\r\n    }\r\n}\r\n\r\n.total-device {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    .title {\r\n        font-size: 16px;\r\n    }\r\n\r\n    .amount {\r\n        font-size: 30px;\r\n    }\r\n}\r\n\r\n.device-status {\r\n    display: flex;\r\n    gap: 16px;\r\n    align-items: center;\r\n    background-color: $gray-bgc;\r\n    border-radius: 4px;\r\n}\r\n\r\n.status {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    border-radius: 8px;\r\n\r\n    .amount {\r\n        font-size: 16px;\r\n    }\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        background-color: darken($gray-bgc, 5%);\r\n    }\r\n}\r\n\r\n$succces: rgb(35, 217, 151);\r\n$warn: rgb(255, 218, 7);\r\n$danger: red;\r\n$unknown: #666;\r\n\r\n.status_name {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .dot {\r\n        width: 4px;\r\n        height: 4px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    &.good {\r\n        .dot {\r\n            background-color: $succces;\r\n        }\r\n\r\n        span {\r\n            color: $succces;\r\n        }\r\n    }\r\n\r\n    &.warn {\r\n        .dot {\r\n            background-color: $warn;\r\n        }\r\n\r\n        span {\r\n            color: $warn;\r\n        }\r\n    }\r\n\r\n    &.error {\r\n        .dot {\r\n            background-color: $danger;\r\n        }\r\n\r\n        span {\r\n            color: $danger;\r\n        }\r\n    }\r\n\r\n    &.unknown {\r\n        .dot {\r\n            background-color: $unknown;\r\n        }\r\n    }\r\n}\r\n\r\n.device_health {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    height: 100%;\r\n\r\n    h4 {\r\n        font-size: 14px;\r\n    }\r\n\r\n    span {\r\n        font-size: 24px;\r\n    }\r\n}\r\n\r\n.health_score {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n}\r\n\r\n.score {\r\n    width: 100px;\r\n    height: 60px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: $gray-bgc;\r\n    font-size: 16px;\r\n\r\n    &.number {\r\n        font-size: 24px;\r\n    }\r\n}\r\n\r\n.good {\r\n    color: $succces;\r\n}\r\n\r\n.warn {\r\n    color: $warn;\r\n}\r\n\r\n.error {\r\n    color: $danger;\r\n}\r\n\r\n.el-dialog__header {\r\n    padding: 0;\r\n    margin-right: 0;\r\n}\r\n\r\n.el-dialog__body {\r\n    padding: 0;\r\n}\r\n\r\n.el-overlay {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.pop_message {\r\n    border-radius: 24px;\r\n    width: 400px;\r\n    max-height: 400px;\r\n    background-color: #fff;\r\n    overflow: hidden;\r\n\r\n    .title {\r\n        color: #fff;\r\n        font-size: 20px;\r\n        background: linear-gradient(to left, $primary 30%, #75d6f4);\r\n    }\r\n}\r\n</style>\r\n","import script from \"./GroupHealthView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GroupHealthView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GroupHealthView.vue?vue&type=style&index=0&id=0373e6a8&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__exports__","prefixURL","inject","groupTreeUrl","groupHealthUrl","groupTreeData","ref","orgnizeTreeData","data","forEach","item","slaveGroupName","masterGroupName","slaveGroupUUID","masterGroupUUID","slaveGroupId","masterGroupId","axios","get","then","res","inefiData","value","result","catch","err","console","log","groupHealthMointor","groupWatchedList","groupBeenDeleted","findGroupWatched","monitorData","groupTree","watchedList","mainResult","filter","group","subgroup","subResult","push","isMatch","some","monitor","groupUUID","titleOfDeviceHealthGroup","idOfDeviceHealthGroup","watch","newVal1","newVal2","groupWatchedFounded","groupDeletedDialogVisible","userConfirmGroupDeleted","confirmGroupDeleted","newVal","healthAllResult","calcDevicesConnectedAmount","devicesStatus","total","good","warn","error","unknown","devices","watchSuccesList","device","deviceState","healthStatus","isConnected","length","deviceGood","deviceWarn","deviceError","deviceUnknown","calcGroupHealthScore","groupStatus","score","calcGroupHealthStatus","statusDialogTitle","statusDialogDevices","statusDialogVisible","showDevicesInfo","statusKey","checkDevicesList","toUpperCase","router","useRouter","store","useStore","toManagePageGroup","commit","path"],"sourceRoot":""}